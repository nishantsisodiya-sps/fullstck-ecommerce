<div class="loader" *ngIf="showSpinner"></div>
<div>
    <ngb-carousel *ngIf="myProducts">
        <ng-template *ngFor="let item of myProducts" ngbSlide>
            <div class="picsum-img-wrapper">
                <a [routerLink]="['/details', item._id]"><img class="product-header-image"
                        src="https://ecombackend.softprodigyphp.in/uploads/{{item.thumbnail}}"
                        alt="Random first slide" /></a>
            </div>
            <div class="carousel-caption">
                <h3>{{item.title}}</h3>
                <p>{{item.description}}</p>
            </div>
        </ng-template>
    </ngb-carousel>
</div>

<div class="my-2 mt-3 mb-1 text-center">
    <h2 style="display: inline;"><strong>Bestsellers</strong></h2>
    <button class="spanBtn btn btn-primary" routerLink="/MyProducts">View All</button>
</div>

<div class="container mt-5">
    <div class="row">
        <div class="col-md-3 mb-5" *ngFor="let item of products" style="cursor: pointer;">
            <div class="card">
                <div class="image-container" [routerLink]="['/details' , item._id]">
                    <div class="first">
                        <div class="d-flex justify-content-between align-items-center">
                            <span class="discount">{{item.discountPercentage}}%</span>
                            <!-- <span class="wishlist"><i class="fa fa-heart-o"></i></span> -->
                        </div>
                    </div>
                    <img src="https://ecombackend.softprodigyphp.in/uploads/{{item.thumbnail}}"
                        class="img-fluid rounded thumbnail-image" style="aspect-ratio: 10/10;">
                </div>
                <div class="product-detail-container p-2">
                    <div class="d-flex justify-content-between align-items-center">
                        <h5 class="dress-name">{{item.title}}</h5>
                        <div class="d-flex flex-column mb-2">
                            <span class="new-price">&#8377; {{item.price}}</span>
                        </div>
                    </div>
                    <div class="d-flex justify-content-between align-items-center pt-1">
                        <div class="color-select d-flex ">
                            <input type="button" name="grey" class="btnss creme">
                            <input type="button" name="red" class="btnss red ml-2">
                            <input type="button" name="blue" class="btnss blue ml-2">
                        </div>
                        <div class="d-flex ">
                            <span class="item-size mr-2 btnss" type="button">S</span>
                            <span class="item-size mr-2 btnss" type="button">M</span>
                            <span class="item-size btnss" type="button">L</span>
                        </div>
                    </div>
                    <div class="d-flex justify-content-between align-items-center pt-1">
                        <div>
                            <i class="fa fa-star-o rating-star">{{item.rating}}</i>
                            <span class="rating-number"></span>
                        </div>
                        <span class="buy">BUY +</span>
                    </div>
                </div>
            </div>
            <div class="mt-3">
                <div class="card voutchers">
                    <div class="voutcher-divider">
                        <div class="voutcher-left text-center">
                            <span class="voutcher-name">Nion 2023</span>
                            <h5 class="voutcher-code">#NION2023</h5>
                        </div>
                        <div class="voutcher-right text-center border-left">
                            <h5 class="discount-percent">20%</h5>
                            <span class="off">Off</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<h2 class="my-2 mt-3 mb-1 text-center"><strong>Categories</strong></h2>


<section class="py-5">
    <div class="container px-4 px-lg-5 mt-1">
        <div class="row gx-4 gx-lg-5 row-cols-2 row-cols-md-3 row-cols-xl-4 justify-content-center">
            <div class="col mb-5" *ngFor="let item of categories" [routerLink]="['/category-products' , item._id]">
                <div class="card h-100">
                    <div class="badge bg-danger text-white position-absolute" style="top: 0.5rem; right: 0.5rem">Sale
                    </div>
                    <img class="card-img-top" src="https://source.unsplash.com/450x300/?{{item.name}} " alt="..." />
                    <div class="card-body p-4">
                        <div class="text-center">
                            <h5 class="fw-bolder">{{item.name | titlecase}}</h5>
                            <span class="text-muted text-decoration-line-through">12% &nbsp;</span>
                            UPTO 20 % off
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>